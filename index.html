<!-- ...existing HTML ve CSS kodların... -->
<script>
    // Frontend JavaScript kodu (örnek)
    async function sendMessage() {
        const input = document.getElementById('userInput');
        const messagesDiv = document.getElementById('messages');
        const text = input.value.trim();

        if (!text) return;

        messagesDiv.innerHTML += `<div class="message user-msg">${text}</div>`;
        input.value = '';
        messagesDiv.scrollTop = messagesDiv.scrollHeight;

        const loadingId = 'loading-' + Date.now();
        messagesDiv.innerHTML += `<div class="message bot-msg" id="${loadingId}">Arşivler taranıyor...</div>`;
        messagesDiv.scrollTop = messagesDiv.scrollHeight;

        try {
            const response = await fetch('/api/chat', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ message: text })
            });
            const data = await response.json();
            document.getElementById(loadingId).remove();
            if (data.reply) {
                messagesDiv.innerHTML += `<div class="message bot-msg">${data.reply}</div>`;
            } else if (data.error) {
                messagesDiv.innerHTML += `<div class="message bot-msg">${data.error}</div>`;
            } else {
                messagesDiv.innerHTML += `<div class="message bot-msg">Cevap alınamadı. Lütfen tekrar deneyin.</div>`;
            }
        } catch (error) {
            document.getElementById(loadingId).innerText = "Sunucuya ulaşılamıyor. Lütfen bağlantınızı kontrol edin.";
        }
        messagesDiv.scrollTop = messagesDiv.scrollHeight;
    }
</script>
<!-- ...existing HTML kodların devamı... -->
